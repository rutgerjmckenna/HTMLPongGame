<html>

    <!-- this is so we can set the game area size in a canvas to play -->
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        //To use const, it must be set to an initial value or we will
        // get Uncaught SyntaxError: Missing initializer in const declaration

        //An easy fix for this error is to use var

        var canvas;
        var canvasContext;
        var ballX = 50;
        var ballY = 50;
        var ballSpeedX = 10;
        var ballSpeedY = 4;

        //this means to run this function on window load
        window.onload = function(){
            console.log("Howdy country!");
            //this corresponds to the label in our canvas id
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');


            //Simple animation for how often we will call the function
            //drawGameComponents. Here, its once every 1000 milliseconds

            //We call this here so it'll be forgotten once its done with
            //This allows us to make our own custom frame rate easier
            var framesPerSecond = 30;
            setInterval(function(){
                moveEverything();
                drawGameComponents();
            }, 1000/framesPerSecond);

        }

        //Below are our paddle and ball functions


        //This allows the ball to bounce back at the same speed by
        //referencing itself and the canvas
        function moveEverything() {
            ballX = ballX + ballSpeedX;
            ballY = ballY + ballSpeedY;
            if(ballX < 0) {
                ballSpeedX = -ballSpeedX;
            }
            if(ballX > canvas.width) {
                ballSpeedX = -ballSpeedX;
            }
            if(ballY < 0) {
                ballSpeedY = -ballSpeedY;
            }
            if(ballY > canvas.height) {
                ballSpeedY = -ballSpeedY;
            }
        }

        function drawGameComponents() {
            
            //---------------------------------------------------------
            //BACKGROUND

            //Position 1: horizontal position
            //Position 2: vertical position
            //Position 3: width
            //Posotion 4: height
            colorRect(0,0,canvas.width,canvas.height,'black');
            //Remember to center something it must be subtracted by half as
            //it'll be centered on whatever its top left corner is

            //---------------------------------------------------------
            //PADDLES

            colorRect(0,210,10,100,'white');
            //---------------------------------------------------------
            //BALL
            colorCircle(ballX,ballY,10,'white');
           
        }

        function colorCircle(centerX,centerY,radius,drawColor) {

            canvasContext.fillStyle = drawColor;
            //Allows us to define a shape to be able to fill in
            canvasContext.beginPath(); 
            //The only way to draw a circle is with arc
            //Position 1: X
            //Position 2: Y
            //(Instead of the top left of the retangle, it is now the center of the cirle)
            //Position 3: Radius of the circle
            //Position 4/5: Cuts up our circle into radians
            //Math.PI*2 is half a circle
            //Position 6: If it is filling in the circle clockwise or counter
            canvasContext.arc(centerX,centerY,radius,0,Math.PI*2,true);
            canvasContext.fill();
        }

        //Extrapolating the canvas here to variables so we can fill it in
        //above easily, adding the drawColor variable to now call in the previous
        //function by calling and setting the 'colorRect' in our 
        //drawComponents()
        function colorRect(leftX,topY,width,height,drawColor) {
            canvasContext.fillStyle = drawColor;
            canvasContext.fillRect(leftX,topY,width,height);
        }

    </script>
</html>